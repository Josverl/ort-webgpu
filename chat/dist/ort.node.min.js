/*!
 * ONNX Runtime Web v1.18.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var or=Object.create;var xe=Object.defineProperty;var sr=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var ir=Object.getPrototypeOf,ur=Object.prototype.hasOwnProperty;var X=(r,s)=>()=>(r&&(s=r(r=0)),s);var fr=(r,s)=>()=>(s||r((s={exports:{}}).exports,s),s.exports),pt=(r,s)=>{for(var t in s)xe(r,t,{get:s[t],enumerable:!0})},Ie=(r,s,t,c)=>{if(s&&typeof s=="object"||typeof s=="function")for(let f of ar(s))!ur.call(r,f)&&f!==t&&xe(r,f,{get:()=>s[f],enumerable:!(c=sr(s,f))||c.enumerable});return r},Q=(r,s,t)=>(Ie(r,s,"default"),t&&Ie(t,s,"default")),dt=(r,s,t)=>(t=r!=null?or(ir(r)):{},Ie(s||!r||!r.__esModule?xe(t,"default",{value:r,enumerable:!0}):t,r)),mt=r=>Ie(xe({},"__esModule",{value:!0}),r);var ht=fr((wt,We)=>{"use strict";var yt=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(s={}){var t=s,c,f;t.ready=new Promise((e,n)=>{c=e,f=n});var p=Object.assign({},t),i="./this.program",g=typeof window=="object",y=typeof importScripts=="function",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",b,d,I;if(v){var A=require("fs"),T=require("path");O=y?T.dirname(O)+"/":__dirname+"/",b=(e,n)=>(e=e.startsWith("file://")?new URL(e):T.normalize(e),A.readFileSync(e,n?void 0:"utf8")),I=e=>(e=b(e,!0),e.buffer||(e=new Uint8Array(e)),e),d=(e,n,o,u=!0)=>{e=e.startsWith("file://")?new URL(e):T.normalize(e),A.readFile(e,u?void 0:"utf8",(l,w)=>{l?o(l):n(u?w.buffer:w)})},!t.thisProgram&&1<process.argv.length&&(i=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(g||y)&&(y?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),r&&(O=r),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",b=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},y&&(I=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),d=(e,n,o)=>{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?n(u.response):o()},u.onerror=o,u.send(null)});var x=t.print||console.log.bind(console),F=t.printErr||console.error.bind(console);Object.assign(t,p),p=null,t.thisProgram&&(i=t.thisProgram);var B;t.wasmBinary&&(B=t.wasmBinary);var M=t.noExitRuntime||!0;typeof WebAssembly!="object"&&V("no native wasm support detected");var j,h,me=!1,ne,q,m,C;function Ee(){var e=j.buffer;t.HEAP8=ne=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=m=new Int32Array(e),t.HEAPU8=q=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=C=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var ve=[],Ae=[],ge=[];function oe(){var e=t.preRun.shift();ve.unshift(e)}var S=0,Z=null,te=null;function V(e){throw t.onAbort&&t.onAbort(e),e="Aborted("+e+")",F(e),me=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),f(e),e}function se(e){return e.startsWith("data:application/octet-stream;base64,")}var k;if(k="ort-wasm.wasm",!se(k)){var $=k;k=t.locateFile?t.locateFile($,O):O+$}function Me(e){if(e==k&&B)return new Uint8Array(B);if(I)return I(e);throw"both async and sync fetching of the wasm failed"}function ue(e){if(!B&&(g||y)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+e+"'";return n.arrayBuffer()}).catch(()=>Me(e));if(d)return new Promise((n,o)=>{d(e,u=>n(new Uint8Array(u)),o)})}return Promise.resolve().then(()=>Me(e))}function ye(e,n,o){return ue(e).then(u=>WebAssembly.instantiate(u,n)).then(u=>u).then(o,u=>{F("failed to asynchronously prepare wasm: "+u),V(u)})}function Te(e,n){var o=k;return B||typeof WebAssembly.instantiateStreaming!="function"||se(o)||o.startsWith("file://")||v||typeof fetch!="function"?ye(o,e,n):fetch(o,{credentials:"same-origin"}).then(u=>WebAssembly.instantiateStreaming(u,e).then(n,function(l){return F("wasm streaming compile failed: "+l),F("falling back to ArrayBuffer instantiation"),ye(o,e,n)}))}var re,K=e=>{for(;0<e.length;)e.shift()(t)};function ae(e){this.va=e-24,this.Ea=function(n){C[this.va+4>>2>>>0]=n},this.za=function(n){C[this.va+8>>2>>>0]=n},this.xa=function(n,o){this.ya(),this.Ea(n),this.za(o)},this.ya=function(){C[this.va+16>>2>>>0]=0}}var we=0,W=0,R=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,fe=(e,n,o)=>{n>>>=0;var u=n+o;for(o=n;e[o]&&!(o>=u);)++o;if(16<o-n&&e.buffer&&R)return R.decode(e.subarray(n,o));for(u="";n<o;){var l=e[n++];if(l&128){var w=e[n++]&63;if((l&224)==192)u+=String.fromCharCode((l&31)<<6|w);else{var E=e[n++]&63;l=(l&240)==224?(l&15)<<12|w<<6|E:(l&7)<<18|w<<12|E<<6|e[n++]&63,65536>l?u+=String.fromCharCode(l):(l-=65536,u+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else u+=String.fromCharCode(l)}return u},ce=(e,n)=>(e>>>=0)?fe(q,e,n):"",he=e=>{for(var n=0,o=0;o<e.length;++o){var u=e.charCodeAt(o);127>=u?n++:2047>=u?n+=2:55296<=u&&57343>=u?(n+=4,++o):n+=3}return n},ke=(e,n,o,u)=>{if(o>>>=0,!(0<u))return 0;var l=o;u=o+u-1;for(var w=0;w<e.length;++w){var E=e.charCodeAt(w);if(55296<=E&&57343>=E){var N=e.charCodeAt(++w);E=65536+((E&1023)<<10)|N&1023}if(127>=E){if(o>=u)break;n[o++>>>0]=E}else{if(2047>=E){if(o+1>=u)break;n[o++>>>0]=192|E>>6}else{if(65535>=E){if(o+2>=u)break;n[o++>>>0]=224|E>>12}else{if(o+3>=u)break;n[o++>>>0]=240|E>>18,n[o++>>>0]=128|E>>12&63}n[o++>>>0]=128|E>>6&63}n[o++>>>0]=128|E&63}}return n[o>>>0]=0,o-l},le=e=>e%4===0&&(e%100!==0||e%400===0),Je=[0,31,60,91,121,152,182,213,244,274,305,335],Ze=[0,31,59,90,120,151,181,212,243,273,304,334],Ke=e=>{var n=he(e)+1,o=nt(n);return o&&ke(e,q,o,n),o},Fe={},Qe=()=>{if(!Re){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"},n;for(n in Fe)Fe[n]===void 0?delete e[n]:e[n]=Fe[n];var o=[];for(n in e)o.push(`${n}=${e[n]}`);Re=o}return Re},Re,er=[null,[],[]],et=[31,29,31,30,31,30,31,31,30,31,30,31],tt=[31,28,31,30,31,30,31,31,30,31,30,31];function tr(e){var n=Array(he(e)+1);return ke(e,n,0,n.length),n}function rt(e,n,o,u){function l(a,_,L){for(a=typeof a=="number"?a.toString():a||"";a.length<_;)a=L[0]+a;return a}function w(a,_){return l(a,_,"0")}function E(a,_){function L(lt){return 0>lt?-1:0<lt?1:0}var ie;return(ie=L(a.getFullYear()-_.getFullYear()))===0&&(ie=L(a.getMonth()-_.getMonth()))===0&&(ie=L(a.getDate()-_.getDate())),ie}function N(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function Y(a){var _=a.ra;for(a=new Date(new Date(a.sa+1900,0,1).getTime());0<_;){var L=a.getMonth(),ie=(le(a.getFullYear())?et:tt)[L];if(_>ie-a.getDate())_-=ie-a.getDate()+1,a.setDate(1),11>L?a.setMonth(L+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+_);break}}return L=new Date(a.getFullYear()+1,0,4),_=N(new Date(a.getFullYear(),0,4)),L=N(L),0>=E(_,a)?0>=E(L,a)?a.getFullYear()+1:a.getFullYear():a.getFullYear()-1}e>>>=0,n>>>=0,o>>>=0,u>>>=0;var G=m[u+40>>2>>>0];u={Ca:m[u>>2>>>0],Ba:m[u+4>>2>>>0],ta:m[u+8>>2>>>0],wa:m[u+12>>2>>>0],ua:m[u+16>>2>>>0],sa:m[u+20>>2>>>0],ma:m[u+24>>2>>>0],ra:m[u+28>>2>>>0],Fa:m[u+32>>2>>>0],Aa:m[u+36>>2>>>0],Da:G?ce(G):""},o=ce(o),G={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var z in G)o=o.replace(new RegExp(z,"g"),G[z]);var ft="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ct="January February March April May June July August September October November December".split(" ");G={"%a":a=>ft[a.ma].substring(0,3),"%A":a=>ft[a.ma],"%b":a=>ct[a.ua].substring(0,3),"%B":a=>ct[a.ua],"%C":a=>w((a.sa+1900)/100|0,2),"%d":a=>w(a.wa,2),"%e":a=>l(a.wa,2," "),"%g":a=>Y(a).toString().substring(2),"%G":a=>Y(a),"%H":a=>w(a.ta,2),"%I":a=>(a=a.ta,a==0?a=12:12<a&&(a-=12),w(a,2)),"%j":a=>{for(var _=0,L=0;L<=a.ua-1;_+=(le(a.sa+1900)?et:tt)[L++]);return w(a.wa+_,3)},"%m":a=>w(a.ua+1,2),"%M":a=>w(a.Ba,2),"%n":()=>`
`,"%p":a=>0<=a.ta&&12>a.ta?"AM":"PM","%S":a=>w(a.Ca,2),"%t":()=>"	","%u":a=>a.ma||7,"%U":a=>w(Math.floor((a.ra+7-a.ma)/7),2),"%V":a=>{var _=Math.floor((a.ra+7-(a.ma+6)%7)/7);if(2>=(a.ma+371-a.ra-2)%7&&_++,_)_==53&&(L=(a.ma+371-a.ra)%7,L==4||L==3&&le(a.sa)||(_=1));else{_=52;var L=(a.ma+7-a.ra-1)%7;(L==4||L==5&&le(a.sa%400-1))&&_++}return w(_,2)},"%w":a=>a.ma,"%W":a=>w(Math.floor((a.ra+7-(a.ma+6)%7)/7),2),"%y":a=>(a.sa+1900).toString().substring(2),"%Y":a=>a.sa+1900,"%z":a=>{a=a.Aa;var _=0<=a;return a=Math.abs(a)/60,(_?"+":"-")+("0000"+(a/60*100+a%60)).slice(-4)},"%Z":a=>a.Da,"%%":()=>"%"},o=o.replace(/%%/g,"\0\0");for(z in G)o.includes(z)&&(o=o.replace(new RegExp(z,"g"),G[z](u)));return o=o.replace(/\0\0/g,"%"),z=tr(o),z.length>n?0:(ne.set(z,e>>>0),z.length-1)}var rr={a:function(e,n,o){throw e>>>=0,new ae(e).xa(n>>>0,o>>>0),we=e,W++,we},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(e,n,o){e=n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN,o>>>=0,e=new Date(1e3*e),m[o>>2>>>0]=e.getUTCSeconds(),m[o+4>>2>>>0]=e.getUTCMinutes(),m[o+8>>2>>>0]=e.getUTCHours(),m[o+12>>2>>>0]=e.getUTCDate(),m[o+16>>2>>>0]=e.getUTCMonth(),m[o+20>>2>>>0]=e.getUTCFullYear()-1900,m[o+24>>2>>>0]=e.getUTCDay(),m[o+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(e,n,o){e=n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN,o>>>=0,e=new Date(1e3*e),m[o>>2>>>0]=e.getSeconds(),m[o+4>>2>>>0]=e.getMinutes(),m[o+8>>2>>>0]=e.getHours(),m[o+12>>2>>>0]=e.getDate(),m[o+16>>2>>>0]=e.getMonth(),m[o+20>>2>>>0]=e.getFullYear()-1900,m[o+24>>2>>>0]=e.getDay(),m[o+28>>2>>>0]=(le(e.getFullYear())?Je:Ze)[e.getMonth()]+e.getDate()-1|0,m[o+36>>2>>>0]=-(60*e.getTimezoneOffset()),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var u=new Date(e.getFullYear(),0,1).getTimezoneOffset();m[o+32>>2>>>0]=(n!=u&&e.getTimezoneOffset()==Math.min(u,n))|0},q:function(e){e>>>=0;var n=new Date(m[e+20>>2>>>0]+1900,m[e+16>>2>>>0],m[e+12>>2>>>0],m[e+8>>2>>>0],m[e+4>>2>>>0],m[e>>2>>>0],0),o=m[e+32>>2>>>0],u=n.getTimezoneOffset(),l=new Date(n.getFullYear(),6,1).getTimezoneOffset(),w=new Date(n.getFullYear(),0,1).getTimezoneOffset(),E=Math.min(w,l);return 0>o?m[e+32>>2>>>0]=+(l!=w&&E==u):0<o!=(E==u)&&(l=Math.max(w,l),n.setTime(n.getTime()+6e4*((0<o?E:l)-u))),m[e+24>>2>>>0]=n.getDay(),m[e+28>>2>>>0]=(le(n.getFullYear())?Je:Ze)[n.getMonth()]+n.getDate()-1|0,m[e>>2>>>0]=n.getSeconds(),m[e+4>>2>>>0]=n.getMinutes(),m[e+8>>2>>>0]=n.getHours(),m[e+12>>2>>>0]=n.getDate(),m[e+16>>2>>>0]=n.getMonth(),m[e+20>>2>>>0]=n.getYear(),e=n.getTime()/1e3,ot((re=e,1<=+Math.abs(re)?0<re?+Math.floor(re/4294967296)>>>0:~~+Math.ceil((re-+(~~re>>>0))/4294967296)>>>0:0)),e>>>0},m:function(){return-52},n:function(){},t:function(e,n,o){function u(Y){return(Y=Y.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Y[1]:"GMT"}o>>>=0;var l=new Date().getFullYear(),w=new Date(l,0,1),E=new Date(l,6,1);l=w.getTimezoneOffset();var N=E.getTimezoneOffset();C[e>>>0>>2>>>0]=60*Math.max(l,N),m[n>>>0>>2>>>0]=+(l!=N),e=u(w),n=u(E),e=Ke(e),n=Ke(n),N<l?(C[o>>2>>>0]=e,C[o+4>>2>>>0]=n):(C[o>>2>>>0]=n,C[o+4>>2>>>0]=e)},d:()=>{V("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(e,n,o){return n>>>=0,q.copyWithin(e>>>0>>>0,n>>>0,n+(o>>>0)>>>0)},s:function(e){e>>>=0;var n=q.length;if(4294901760<e)return!1;for(var o=1;4>=o;o*=2){var u=n*(1+.2/o);u=Math.min(u,e+100663296);var l=Math;u=Math.max(e,u);e:{l=l.min.call(l,4294901760,u+(65536-u%65536)%65536)-j.buffer.byteLength+65535>>>16;try{j.grow(l),Ee();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},C:function(e,n){e>>>=0,n>>>=0;var o=0;return Qe().forEach(function(u,l){var w=n+o;for(l=C[e+4*l>>2>>>0]=w,w=0;w<u.length;++w)ne[l++>>0>>>0]=u.charCodeAt(w);ne[l>>0>>>0]=0,o+=u.length+1}),0},D:function(e,n){e>>>=0,n>>>=0;var o=Qe();C[e>>2>>>0]=o.length;var u=0;return o.forEach(function(l){u+=l.length+1}),C[n>>2>>>0]=u,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(e,n,o,u){n>>>=0,o>>>=0,u>>>=0;for(var l=0,w=0;w<o;w++){var E=C[n>>2>>>0],N=C[n+4>>2>>>0];n+=8;for(var Y=0;Y<N;Y++){var G=q[E+Y>>>0],z=er[e];G===0||G===10?((e===1?x:F)(fe(z,0)),z.length=0):z.push(G)}l+=N}return C[u>>2>>>0]=l,0},A:rt,c:function(e,n,o,u){return rt(e>>>0,n>>>0,o>>>0,u>>>0)}};(function(){function e(o){if(o=o.exports,h=o=nr(o),j=h.J,Ee(),Ae.unshift(h.K),S--,t.monitorRunDependencies&&t.monitorRunDependencies(S),S==0&&(Z!==null&&(clearInterval(Z),Z=null),te)){var u=te;te=null,u()}return o}var n={a:rr};if(S++,t.monitorRunDependencies&&t.monitorRunDependencies(S),t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(o){F("Module.instantiateWasm callback failed with error: "+o),f(o)}return Te(n,function(o){e(o.instance)}).catch(f),{}})(),t._OrtInit=(e,n)=>(t._OrtInit=h.L)(e,n),t._OrtGetLastError=(e,n)=>(t._OrtGetLastError=h.M)(e,n),t._OrtCreateSessionOptions=(e,n,o,u,l,w,E,N,Y,G)=>(t._OrtCreateSessionOptions=h.N)(e,n,o,u,l,w,E,N,Y,G),t._OrtAppendExecutionProvider=(e,n)=>(t._OrtAppendExecutionProvider=h.O)(e,n),t._OrtAddFreeDimensionOverride=(e,n,o)=>(t._OrtAddFreeDimensionOverride=h.P)(e,n,o),t._OrtAddSessionConfigEntry=(e,n,o)=>(t._OrtAddSessionConfigEntry=h.Q)(e,n,o),t._OrtReleaseSessionOptions=e=>(t._OrtReleaseSessionOptions=h.R)(e),t._OrtCreateSession=(e,n,o)=>(t._OrtCreateSession=h.S)(e,n,o),t._OrtReleaseSession=e=>(t._OrtReleaseSession=h.T)(e),t._OrtGetInputOutputCount=(e,n,o)=>(t._OrtGetInputOutputCount=h.U)(e,n,o),t._OrtGetInputName=(e,n)=>(t._OrtGetInputName=h.V)(e,n),t._OrtGetOutputName=(e,n)=>(t._OrtGetOutputName=h.W)(e,n),t._OrtFree=e=>(t._OrtFree=h.X)(e),t._OrtCreateTensor=(e,n,o,u,l,w)=>(t._OrtCreateTensor=h.Y)(e,n,o,u,l,w),t._OrtGetTensorData=(e,n,o,u,l)=>(t._OrtGetTensorData=h.Z)(e,n,o,u,l),t._OrtReleaseTensor=e=>(t._OrtReleaseTensor=h._)(e),t._OrtCreateRunOptions=(e,n,o,u)=>(t._OrtCreateRunOptions=h.$)(e,n,o,u),t._OrtAddRunConfigEntry=(e,n,o)=>(t._OrtAddRunConfigEntry=h.aa)(e,n,o),t._OrtReleaseRunOptions=e=>(t._OrtReleaseRunOptions=h.ba)(e),t._OrtCreateBinding=e=>(t._OrtCreateBinding=h.ca)(e),t._OrtBindInput=(e,n,o)=>(t._OrtBindInput=h.da)(e,n,o),t._OrtBindOutput=(e,n,o,u)=>(t._OrtBindOutput=h.ea)(e,n,o,u),t._OrtClearBoundOutputs=e=>(t._OrtClearBoundOutputs=h.fa)(e),t._OrtReleaseBinding=e=>(t._OrtReleaseBinding=h.ga)(e),t._OrtRunWithBinding=(e,n,o,u,l)=>(t._OrtRunWithBinding=h.ha)(e,n,o,u,l),t._OrtRun=(e,n,o,u,l,w,E,N)=>(t._OrtRun=h.ia)(e,n,o,u,l,w,E,N),t._OrtEndProfiling=e=>(t._OrtEndProfiling=h.ja)(e);var nt=t._malloc=e=>(nt=t._malloc=h.ka)(e);t._free=e=>(t._free=h.la)(e);var ot=e=>(ot=h.na)(e),st=()=>(st=h.oa)(),at=e=>(at=h.pa)(e),it=e=>(it=h.qa)(e);function nr(e){e=Object.assign({},e);var n=u=>()=>u()>>>0,o=u=>l=>u(l)>>>0;return e.__errno_location=n(e.__errno_location),e.malloc=o(e.malloc),e.stackSave=n(e.stackSave),e.stackAlloc=o(e.stackAlloc),e}t.stackAlloc=it,t.stackSave=st,t.stackRestore=at,t.UTF8ToString=ce,t.stringToUTF8=(e,n,o)=>ke(e,q,n,o),t.lengthBytesUTF8=he;var _e;te=function e(){_e||ut(),_e||(te=e)};function ut(){function e(){if(!_e&&(_e=!0,t.calledRun=!0,!me)){if(K(Ae),c(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var n=t.postRun.shift();ge.unshift(n)}K(ge)}}if(!(0<S)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)oe();K(ve),0<S||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ut(),s.ready}})();typeof wt=="object"&&typeof We=="object"?We.exports=yt:typeof define=="function"&&define.amd&&define([],()=>yt)});var Ge,cr,Ne,He,Ce,bt,lr,pr,dr,Ot,U,pe=X(()=>{"use strict";Ge=ht();cr=Ge,He=!1,Ce=!1,bt=!1,lr=r=>{if(r===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+r+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+r+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},pr=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},dr=(r,s)=>r?s?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":s?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ot=async r=>{if(He)return Promise.resolve();if(Ce)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(bt)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ce=!0;let s=r.initTimeout,t=r.numThreads,c=r.simd,f=lr(t),p=c&&pr(),i=r.wasmPaths,g=typeof i=="string"?i:void 0,y=dr(p,f),v=typeof i=="object"?i[y]:void 0,O=!1,b=[];if(s>0&&b.push(new Promise(d=>{setTimeout(()=>{O=!0,d()},s)})),b.push(new Promise((d,I)=>{(f?cr:Ge)({locateFile:(x,F)=>x.endsWith(".wasm")?v||(g??F)+y:F+x}).then(x=>{Ce=!1,He=!0,Ne=x,d()},x=>{Ce=!1,bt=!0,I(x)})})),await Promise.race(b),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${s}ms`)},U=()=>{if(He&&Ne)return Ne;throw new Error("WebAssembly is not initialized yet.")}});var P,be,D,Be=X(()=>{"use strict";pe();P=(r,s)=>{let t=U(),c=t.lengthBytesUTF8(r)+1,f=t._malloc(c);return t.stringToUTF8(r,f,c),s.push(f),f},be=(r,s,t,c)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([f,p])=>{let i=s?s+f:f;if(typeof p=="object")be(p,i+".",t,c);else if(typeof p=="string"||typeof p=="number")c(i,p.toString());else if(typeof p=="boolean")c(i,p?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof p}`)})},D=r=>{let s=U(),t=s.stackSave();try{let c=s.stackAlloc(8);s._OrtGetLastError(c,c+4);let f=s.HEAP32[c/4],p=s.HEAPU32[c/4+1],i=p?s.UTF8ToString(p):"";throw new Error(`${r} ERROR_CODE: ${f}, ERROR_MESSAGE: ${i}`)}finally{s.stackRestore(t)}}});var St,Et=X(()=>{"use strict";pe();Be();St=r=>{let s=U(),t=0,c=[],f=r||{};try{if(r?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(f.terminate=!1);let p=0;return r?.tag!==void 0&&(p=P(r.tag,c)),t=s._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,p),t===0&&D("Can't create run options."),r?.extra!==void 0&&be(r.extra,"",new WeakSet,(i,g)=>{let y=P(i,c),v=P(g,c);s._OrtAddRunConfigEntry(t,y,v)!==0&&D(`Can't set a run config entry: ${i} - ${g}.`)}),[t,c]}catch(p){throw t!==0&&s._OrtReleaseRunOptions(t),c.forEach(i=>s._free(i)),p}}});var mr,gr,yr,wr,vt,At=X(()=>{"use strict";pe();Be();mr=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},gr=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},yr=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let s=r.extra.session;s.use_ort_model_bytes_directly||(s.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},wr=(r,s,t)=>{for(let c of s){let f=typeof c=="string"?c:c.name;switch(f){case"webnn":if(f="WEBNN",typeof c!="string"){let i=c;if(i?.deviceType){let g=P("deviceType",t),y=P(i.deviceType,t);U()._OrtAddSessionConfigEntry(r,g,y)!==0&&D(`Can't set a session config entry: 'deviceType' - ${i.deviceType}.`)}if(i?.numThreads){let g=i.numThreads;(typeof g!="number"||!Number.isInteger(g)||g<0)&&(g=0);let y=P("numThreads",t),v=P(g.toString(),t);U()._OrtAddSessionConfigEntry(r,y,v)!==0&&D(`Can't set a session config entry: 'numThreads' - ${i.numThreads}.`)}if(i?.powerPreference){let g=P("powerPreference",t),y=P(i.powerPreference,t);U()._OrtAddSessionConfigEntry(r,g,y)!==0&&D(`Can't set a session config entry: 'powerPreference' - ${i.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof c!="string"){let i=c;if(i?.preferredLayout){if(i.preferredLayout!=="NCHW"&&i.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${i.preferredLayout}`);let g=P("preferredLayout",t),y=P(i.preferredLayout,t);U()._OrtAddSessionConfigEntry(r,g,y)!==0&&D(`Can't set a session config entry: 'preferredLayout' - ${i.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let p=P(f,t);U()._OrtAppendExecutionProvider(r,p)!==0&&D(`Can't append execution provider: ${f}.`)}},vt=r=>{let s=U(),t=0,c=[],f=r||{};yr(f);try{let p=mr(f.graphOptimizationLevel??"all"),i=gr(f.executionMode??"sequential"),g=typeof f.logId=="string"?P(f.logId,c):0,y=f.logSeverityLevel??2;if(!Number.isInteger(y)||y<0||y>4)throw new Error(`log serverity level is not valid: ${y}`);let v=f.logVerbosityLevel??0;if(!Number.isInteger(v)||v<0||v>4)throw new Error(`log verbosity level is not valid: ${v}`);let O=typeof f.optimizedModelFilePath=="string"?P(f.optimizedModelFilePath,c):0;if(t=s._OrtCreateSessionOptions(p,!!f.enableCpuMemArena,!!f.enableMemPattern,i,!!f.enableProfiling,0,g,y,v,O),t===0&&D("Can't create session options."),f.executionProviders&&wr(t,f.executionProviders,c),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let b=P("enableGraphCapture",c),d=P(f.enableGraphCapture.toString(),c);s._OrtAddSessionConfigEntry(t,b,d)!==0&&D(`Can't set a session config entry: 'enableGraphCapture' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[b,d]of Object.entries(f.freeDimensionOverrides)){if(typeof b!="string")throw new Error(`free dimension override name must be a string: ${b}`);if(typeof d!="number"||!Number.isInteger(d)||d<0)throw new Error(`free dimension override value must be a non-negative integer: ${d}`);let I=P(b,c);s._OrtAddFreeDimensionOverride(t,I,d)!==0&&D(`Can't set a free dimension override: ${b} - ${d}.`)}return f.extra!==void 0&&be(f.extra,"",new WeakSet,(b,d)=>{let I=P(b,c),A=P(d,c);s._OrtAddSessionConfigEntry(t,I,A)!==0&&D(`Can't set a session config entry: ${b} - ${d}.`)}),[t,c]}catch(p){throw t!==0&&s._OrtReleaseSessionOptions(t),c.forEach(i=>s._free(i)),p}}});var ze,Tt,je,_t,It,Pe,xt,$e=X(()=>{"use strict";ze=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Tt=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},je=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],_t=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},It=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},Pe=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",xt=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var Ct,Bt,Oe,Ye=X(()=>{"use strict";Ct=dt(require("fs")),Bt=require("node:fs/promises"),Oe=async r=>{if(typeof r=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(0,Bt.readFile)(r))}catch(s){if(s.code==="ERR_FS_FILE_TOO_LARGE"){let t=Ct.createReadStream(r),c=[];for await(let f of t)c.push(f);return new Uint8Array(Buffer.concat(c))}throw s}else{let s=await fetch(r);if(!s.ok)throw new Error(`failed to load external data file: ${r}`);let t=s.headers.get("Content-Length"),c=t?parseInt(t,10):0;if(c<1073741824)return new Uint8Array(await s.arrayBuffer());{if(!s.body)throw new Error(`failed to load external data file: ${r}, no response body.`);let f=s.body.getReader(),p;try{p=new ArrayBuffer(c)}catch(g){if(g instanceof RangeError){let y=Math.ceil(c/65536);p=new WebAssembly.Memory({initial:y,maximum:y}).buffer}else throw g}let i=0;for(;;){let{done:g,value:y}=await f.read();if(g)break;let v=y.byteLength;new Uint8Array(p,i,v).set(y),i+=v}return new Uint8Array(p,0,c)}}else return r instanceof Blob?new Uint8Array(await r.arrayBuffer()):r instanceof Uint8Array?r:new Uint8Array(r)}});var hr,Dt,Lt,de,br,qe,Ut,Mt,Pt,kt,Ft,Rt=X(()=>{"use strict";Et();At();$e();pe();Be();Ye();hr=(r,s)=>{U()._OrtInit(r,s)!==0&&D("Can't initialize onnxruntime.")},Dt=async r=>{hr(r.wasm.numThreads,It(r.logLevel))},Lt=async(r,s)=>{},de=new Map,br=r=>{let s=U(),t=s.stackSave();try{let c=s.stackAlloc(8);return s._OrtGetInputOutputCount(r,c,c+4)!==0&&D("Can't get session input/output count."),[s.HEAP32[c/4],s.HEAP32[c/4+1]]}finally{s.stackRestore(t)}},qe=r=>{let s=U(),t=s._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return s.HEAPU8.set(r,t),[t,r.byteLength]},Ut=async(r,s)=>{let t,c,f=U();Array.isArray(r)?[t,c]=r:r.buffer===f.HEAPU8.buffer?[t,c]=[r.byteOffset,r.byteLength]:[t,c]=qe(r);let p=0,i=0,g=0,y=[],v=[],O=[];try{if([i,y]=vt(s),s?.externalData&&f.mountExternalData){let B=[];for(let M of s.externalData){let j=typeof M=="string"?M:M.path;B.push(Oe(typeof M=="string"?M:M.data).then(h=>{f.mountExternalData(j,h)}))}await Promise.all(B)}p=await f._OrtCreateSession(t,c,i),p===0&&D("Can't create a session.");let[b,d]=br(p),I=!!s?.enableGraphCapture,A=[],T=[],x=[];for(let B=0;B<b;B++){let M=f._OrtGetInputName(p,B);M===0&&D("Can't get an input name."),v.push(M),A.push(f.UTF8ToString(M))}for(let B=0;B<d;B++){let M=f._OrtGetOutputName(p,B);M===0&&D("Can't get an output name."),O.push(M);let j=f.UTF8ToString(M);T.push(j)}let F=null;return de.set(p,[p,v,O,F,I,!1]),[p,A,T]}catch(b){throw v.forEach(d=>f._OrtFree(d)),O.forEach(d=>f._OrtFree(d)),g!==0&&f._OrtReleaseBinding(g),p!==0&&f._OrtReleaseSession(p),b}finally{f._free(t),i!==0&&f._OrtReleaseSessionOptions(i),y.forEach(b=>f._free(b)),f.unmountExternalData?.()}},Mt=r=>{let s=U(),t=de.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[c,f,p,i,g]=t;i&&(g&&s._OrtClearBoundOutputs(i.handle),s._OrtReleaseBinding(i.handle)),s.jsepOnReleaseSession?.(r),f.forEach(y=>s._OrtFree(y)),p.forEach(y=>s._OrtFree(y)),s._OrtReleaseSession(c),de.delete(r)},Pt=(r,s,t,c,f,p=!1)=>{if(!r){s.push(0);return}let i=U(),g=r[0],y=r[1],v=r[3],O,b;if(g==="string"&&v==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(p&&v!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(v==="gpu-buffer"){let A=r[2].gpuBuffer,T=je(ze(g));b=y.reduce((x,F)=>x*F,1)*T,O=i.jsepRegisterBuffer(c,f,A,b)}else{let A=r[2];if(Array.isArray(A)){b=4*A.length,O=i._malloc(b),t.push(O);let T=O/4;for(let x=0;x<A.length;x++){if(typeof A[x]!="string")throw new TypeError(`tensor data at index ${x} is not a string`);i.HEAPU32[T++]=P(A[x],t)}}else b=A.byteLength,O=i._malloc(b),t.push(O),i.HEAPU8.set(new Uint8Array(A.buffer,A.byteOffset,b),O)}let d=i.stackSave(),I=i.stackAlloc(4*y.length);try{let A=I/4;y.forEach(x=>i.HEAP32[A++]=x);let T=i._OrtCreateTensor(ze(g),O,b,I,y.length,xt(v));T===0&&D(`Can't create tensor for input/output. session=${c}, index=${f}.`),s.push(T)}finally{i.stackRestore(d)}},kt=async(r,s,t,c,f,p)=>{let i=U(),g=de.get(r);if(!g)throw new Error(`cannot run inference. invalid session id: ${r}`);let y=g[0],v=g[1],O=g[2],b=g[3],d=g[4],I=g[5],A=s.length,T=c.length,x=0,F=[],B=[],M=[],j=[],h=i.stackSave(),me=i.stackAlloc(A*4),ne=i.stackAlloc(A*4),q=i.stackAlloc(T*4),m=i.stackAlloc(T*4);try{[x,F]=St(p);for(let S=0;S<A;S++)Pt(t[S],B,j,r,s[S],d);for(let S=0;S<T;S++)Pt(f[S],M,j,r,A+c[S],d);let C=me/4,Ee=ne/4,ve=q/4,Ae=m/4;for(let S=0;S<A;S++)i.HEAPU32[C++]=B[S],i.HEAPU32[Ee++]=v[s[S]];for(let S=0;S<T;S++)i.HEAPU32[ve++]=M[S],i.HEAPU32[Ae++]=O[c[S]];i.jsepOnRunStart?.(y);let ge;ge=await i._OrtRun(y,ne,me,A,m,T,q,x),ge!==0&&D("failed to call OrtRun().");let oe=[];for(let S=0;S<T;S++){let Z=i.HEAPU32[q/4+S];if(Z===M[S]){oe.push(f[S]);continue}let te=i.stackSave(),V=i.stackAlloc(4*4),se=!1,k,$=0;try{i._OrtGetTensorData(Z,V,V+4,V+8,V+12)!==0&&D(`Can't access output tensor data on index ${S}.`);let ue=V/4,ye=i.HEAPU32[ue++];$=i.HEAPU32[ue++];let Te=i.HEAPU32[ue++],re=i.HEAPU32[ue++],K=[];for(let W=0;W<re;W++)K.push(i.HEAPU32[Te/4+W]);i._OrtFree(Te);let ae=K.reduce((W,R)=>W*R,1);k=Tt(ye);let we=b?.outputPreferredLocations[c[S]];if(k==="string"){if(we==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let W=[],R=$/4;for(let fe=0;fe<ae;fe++){let ce=i.HEAPU32[R++],he=fe===ae-1?void 0:i.HEAPU32[R]-ce;W.push(i.UTF8ToString(ce,he))}oe.push([k,K,W,"cpu"])}else if(we==="gpu-buffer"&&ae>0){let W=i.jsepGetBuffer($),R=je(ye);if(R===void 0||!Pe(k))throw new Error(`Unsupported data type: ${k}`);se=!0,oe.push([k,K,{gpuBuffer:W,download:i.jsepCreateDownloader(W,ae*R,k),dispose:()=>{i._OrtReleaseTensor(Z)}},"gpu-buffer"])}else{let W=_t(k),R=new W(ae);new Uint8Array(R.buffer,R.byteOffset,R.byteLength).set(i.HEAPU8.subarray($,$+R.byteLength)),oe.push([k,K,R,"cpu"])}}finally{i.stackRestore(te),k==="string"&&$&&i._free($),se||i._OrtReleaseTensor(Z)}}return b&&!d&&(i._OrtClearBoundOutputs(b.handle),de.set(r,[y,v,O,b,d,!1])),oe}finally{i.stackRestore(h),B.forEach(C=>i._OrtReleaseTensor(C)),M.forEach(C=>i._OrtReleaseTensor(C)),j.forEach(C=>i._free(C)),x!==0&&i._OrtReleaseRunOptions(x),F.forEach(C=>i._free(C))}},Ft=r=>{let s=U(),t=de.get(r);if(!t)throw new Error("invalid session id");let c=t[0],f=s._OrtEndProfiling(c);f===0&&D("Can't get an profile file name."),s._OrtFree(f)}});var De,Ve,Wt,Nt,Vr,Ht,Gt,zt,jt,$t,Yt,qt,Xe=X(()=>{"use strict";De=require("onnxruntime-common");Rt();pe();Ve=!1,Wt=!1,Nt=!1,Vr=typeof document<"u"?document?.currentScript?.src:void 0,Ht=async()=>{if(!Wt){if(Ve)throw new Error("multiple calls to 'initWasm()' detected.");if(Nt)throw new Error("previous call to 'initWasm()' failed.");Ve=!0;try{await Ot(De.env.wasm),await Dt(De.env),Wt=!0}catch(r){throw Nt=!0,r}finally{Ve=!1}}},Gt=async r=>{await Lt(De.env,r)},zt=async r=>qe(r),jt=async(r,s)=>Ut(r,s),$t=async r=>{Mt(r)},Yt=async(r,s,t,c,f,p)=>kt(r,s,t,c,f,p),qt=async r=>{Ft(r)}});var ee,Vt,Sr,Le,Xt=X(()=>{"use strict";ee=require("onnxruntime-common");Xe();$e();Ye();Vt=(r,s)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${s()}`)}},Sr=r=>{switch(r[3]){case"cpu":return new ee.Tensor(r[0],r[2],r[1]);case"gpu-buffer":{let s=r[0];if(!Pe(s))throw new Error(`not supported data type: ${s} for deserializing GPU tensor`);let{gpuBuffer:t,download:c,dispose:f}=r[2];return ee.Tensor.fromGpuBuffer(t,{dataType:s,dims:r[1],download:c,dispose:f})}default:throw new Error(`invalid data location: ${r[3]}`)}},Le=class{async fetchModelAndCopyToWasmMemory(s){return zt(await Oe(s))}async loadModel(s,t){(0,ee.TRACE_FUNC_BEGIN)();let c;typeof s=="string"?typeof process<"u"&&process.versions&&process.versions.node?c=await Oe(s):c=await this.fetchModelAndCopyToWasmMemory(s):c=s,[this.sessionId,this.inputNames,this.outputNames]=await jt(c,t),(0,ee.TRACE_FUNC_END)()}async dispose(){return $t(this.sessionId)}async run(s,t,c){(0,ee.TRACE_FUNC_BEGIN)();let f=[],p=[];Object.entries(s).forEach(d=>{let I=d[0],A=d[1],T=this.inputNames.indexOf(I);if(T===-1)throw new Error(`invalid input '${I}'`);f.push(A),p.push(T)});let i=[],g=[];Object.entries(t).forEach(d=>{let I=d[0],A=d[1],T=this.outputNames.indexOf(I);if(T===-1)throw new Error(`invalid output '${I}'`);i.push(A),g.push(T)});let y=f.map((d,I)=>Vt(d,()=>`input "${this.inputNames[p[I]]}"`)),v=i.map((d,I)=>d?Vt(d,()=>`output "${this.outputNames[g[I]]}"`):null),O=await Yt(this.sessionId,p,y,g,v,c),b={};for(let d=0;d<O.length;d++)b[this.outputNames[g[d]]]=i[d]??Sr(O[d]);return(0,ee.TRACE_FUNC_END)(),b}startProfiling(){}endProfiling(){qt(this.sessionId)}}});var Jt,H,Er,Ue,Zt=X(()=>{"use strict";Jt=require("node:os"),H=require("onnxruntime-common");Xe();Xt();Er=()=>{if((typeof H.env.wasm.initTimeout!="number"||H.env.wasm.initTimeout<0)&&(H.env.wasm.initTimeout=0),typeof H.env.wasm.simd!="boolean"&&(H.env.wasm.simd=!0),typeof H.env.wasm.proxy!="boolean"&&(H.env.wasm.proxy=!1),typeof H.env.wasm.trace!="boolean"&&(H.env.wasm.trace=!1),typeof H.env.wasm.numThreads!="number"||!Number.isInteger(H.env.wasm.numThreads)||H.env.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(H.env.wasm.numThreads=1);let r=typeof navigator>"u"?(0,Jt.cpus)().length:navigator.hardwareConcurrency;H.env.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},Ue=class{async init(s){Er(),await Ht(),await Gt(s)}async createInferenceSessionHandler(s,t){let c=new Le;return await c.loadModel(s,t),Promise.resolve(c)}}});var Kt={};pt(Kt,{wasmBackend:()=>vr});var vr,Qt=X(()=>{"use strict";Zt();vr=new Ue});var J={};pt(J,{default:()=>Tr});module.exports=mt(J);Q(J,require("onnxruntime-common"),module.exports);var Ar=dt(require("onnxruntime-common")),Se=require("onnxruntime-common");var gt="1.18.0";var Tr=Ar;{let r=(Qt(),mt(Kt)).wasmBackend;(0,Se.registerBackend)("cpu",r,10),(0,Se.registerBackend)("wasm",r,10)}Object.defineProperty(Se.env.versions,"web",{value:gt,enumerable:!0});0&&(module.exports={...require("onnxruntime-common")});
//# sourceMappingURL=ort.node.min.js.map
